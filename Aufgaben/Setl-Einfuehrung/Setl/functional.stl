program main;
    M := {1, 2, 3 };
    R := { [1,1], [2, 4], [3, 9] };
    
    print(R, ": isFunctional = ", isFunctional(R,M));

    M := {1, 2, 3, 4 };
    R := { [1,1], [2, 4], [3, 9] };
    
    print(R, ": isFunctional = ", isFunctional(R,M));

    M := {1, 2, 3 };
    R := { [1,1], [2, 4], [1, 9] };
    
    print(R, ": isFunctional = ", isFunctional(R,M));
    procedure isFunctional(R, M);
        return isLeftTotal(R, M) and isRightUnique(R);
    end isFunctional;

    procedure isLeftTotal(R, M);
        return { x : [x,y] in R } = M;
    end isLeftTotal;

    procedure isRightUnique(R);
        return { x : x in domain(R) | #R{x} <= 1 } = domain(R);
    end isRightUnique;

end main;