\documentclass{article}
\usepackage{german}
\usepackage[latin1]{inputenc}
\usepackage{a4wide}
\usepackage{amssymb}
\usepackage{fancyvrb}
\usepackage{alltt}

\newcommand{\diff}{\frac{\displaystyle d\;}{\displaystyle dx}}
\newcommand{\df}[1]{\frac{\displaystyle d#1}{\displaystyle dx}}
\newcommand{\ds}{\displaystyle}

\begin{document}
\noindent
{\Large \textbf{Aufgaben-Blatt}: Symbolisches Differenzieren}
\vspace{0.5cm}

\noindent
Das Problem des \emph{symbolischen Differenzierens} besteht darin, einen gegebenen
arithmetischen Ausdruck $E$ \emph{symbolisch} nach einer Variable $x$ abzuleiten.  \emph{Symbolisch}
heißt in diesem Zusammenhang, dass das Ergebnis dieser Operation keine Zahl ist, 
sondern wieder ein arithmetischer Ausdruck.
Hat beispielsweise $E$ den Wert $x \cdot \exp(x)$, so gilt nach der Produkt-Regel der Differential-Rechnung 
\[ \displaystyle \diff \Bigl(x \cdot \exp(x)\Bigr) = 1 \cdot \exp(x) + x \cdot \exp(x). \]
Also ist das Ergebnis, das wir erhalten, wenn wir den arithmetischen Ausdruck $x \cdot exp(x)$
nach $x$ differenzieren, der Ausdruck $1 \cdot \exp(x) + x \cdot \exp(x)$.

Um einen Algorithmus entwickeln zu können, der arithmetische Ausdrücke symbolisch differenziert,
definieren wir zunächst induktiv die Menge $\mathcal{E}$ der arithmetischen Ausdrücke.
\begin{enumerate}
\item Die Variablen $x$, $y$ und $z$ sind arithmetische Ausdrücke. 
\item Alle Zahlen sind arithmetische Ausdrücke.
\item Gilt $s, t\in \mathcal{E}$, so gilt auch:
      \begin{enumerate}
      \item $s + t \in \mathcal{E}$,
      \item $s - t \in \mathcal{E}$,
      \item $s \,\cdot\, t \in \mathcal{E}$,
      \item $s \;\,/\,\; t \in \mathcal{E}$.
      \end{enumerate}
\item Ist $s \in \mathcal{E}$ und ist $n \in \mathbb{Z}$ so gilt auch $s^n \in \mathcal{E}$.  
\end{enumerate}
Als nächstes müssen wir überlegen, wie arithmetische Ausdrücke in \textsl{SetlX}
repräsentiert werden können.  Wir definieren dazu eine Repräsentations-Funktion \\[0.1cm]
\hspace*{1.3cm}  $\mathtt{rep}: \mathcal{E} \rightarrow \textsl{SetlX}$ \\[0.1cm]
die als Eingabe einen arithmetischen Ausdruck nimmt und 
diesen in eine \textsl{SetlX}-Datenstruktur transformiert:
\begin{enumerate}
\item Variablen werden als Strings dargestellt.  Daher gilt

      $\texttt{rep}(v) = v$  \quad für alle Variablen $v$.
\item Genauso ist die Repräsentation von Zahlen trivial:

      $\texttt{rep}(x) = x$ \quad für alle $x \in \mathbb{N}$.
\item $\texttt{rep}(s + t) := [ \texttt{rep}(s), \textrm{``}+\textrm{''}, \texttt{rep}(t) ]$.
\item $\texttt{rep}(s - t)  := [ \texttt{rep}(s), \textrm{``}-\textrm{''}, \texttt{rep}(t) ]$.
\item $\texttt{rep}(s \,\cdot\, t)  := [ \texttt{rep}(s), \textrm{``}*\textrm{''}, \texttt{rep}(t) ]$.
\item $\texttt{rep}(s \;\,/\,\; t)  := [ \texttt{rep}(s), \textrm{``}\,/\,\textrm{''}, \texttt{rep}(t) ]$.
\item $\texttt{rep}(s^n)  := [ \texttt{rep}(s), \textrm{``}\mathtt{**}\textrm{''}, n ]$.
\end{enumerate}
\vspace{0.3cm}

%\noindent
%\textbf{Aufgabe 1}:
%Stellen Sie rekursive Gleichungen auf, die den Vorgang des symbolischen Differenzierens beschreiben.
%\vspace{0.3cm}

\noindent
\textbf{Aufgabe 1}:
Schreiben Sie eine \textsl{SetlX}-Prozedur \texttt{diff}, so dass der Aufruf
$\texttt{diff}(E,x)$ den arithmetischen Ausdruck $E$ symbolisch nach der Variablen $x$ differenziert.
\vspace{0.3cm}

\noindent
\textbf{Hinweis}: Unter 
\\[0.2cm]
\hspace*{0.3cm}
\texttt{www.dhbw-stuttgart.de/\symbol{126}stroetma/Logic/SetlX-Programs/derivative-frame.stlx}
\\[0.2cm]
finden Sie ein Programm-Gerüst, in dem Sie nur noch die Prozedur $\texttt{diff}()$
implementieren müssen.  Das Gerüst enthält bereits einen Parser, einen Pretty-Printer und
diverse Testfälle.  Die Ableitungs-Regeln sind wir folgt:
\begin{tabbing}
 \quad \= 1. Summen-Regel:      \qquad \= $\diff \bigl(g + h\bigr) = \df{g} + \df{h} $  \\[0.3cm]
       \> 2. Differenzen-Regel: \qquad \> $\diff \bigl(g - h\bigr) = \df{g} - \df{h} $  \\[0.3cm]
       \> 3. Produkt-Regel:     \qquad \> $\diff \bigl(g \cdot h\bigr) = 
       \df{g} \cdot h + g \cdot \df{h}$  \\[0.3cm]
       \> 4. Quotienten-Regel:  \qquad \> $\diff \Bigl(\frac{\ds g}{\ds h}\Bigr) = 
       \frac{\raisebox{-3.3mm}{}\;\;\ds \df{g} \cdot h - g \cdot
         \df{h}\;\;}{\raisebox{3mm}{}\displaystyle h \cdot h}$  
       \\[0.3cm]
       \> 5. Potenz-Regel:      \qquad \> $\diff g^n = n \cdot g^{n-1} \cdot \df{g}$  
         \quad für alle $n \in \mathbb{Z}$
\end{tabbing}
  

\noindent
\textbf{Hinweis}: Es gibt eine vordefinierte Prozedur $\texttt{isInteger}()$ die genau dann
 ``\texttt{true}'' liefert, wenn ihr Argument eine ganze Zahl ist.
\vspace{0.3cm}

\noindent
\textbf{Aufgabe 2}: Erweitern Sie das Programm so, dass auch arithmetische Ausdrücke,
die Funktionen wie $\exp()$, $\mathtt{ln}()$, $\mathrm{sqrt}()$, $\sin()$, $\cos()$, $\tan()$, oder
$\arctan()$ enthalten, differenziert werden können.
\vspace{0.3cm}

\noindent
\textbf{Hinweis}:  Zur Ableitung dieser Funktionen gelten die folgenden Regeln:
\begin{center}
\begin{tabular}[t]{|c|c|}
\hline
$\rule[-0.3cm]{0pt}{0.8cm} f(x)$    & $\frac{\displaystyle d\;}{\displaystyle dx} f$ \\
\hline
\hline
$\rule{0pt}{0.5cm} \texttt{exp}(x)$ & $\texttt{exp}(x)$  \\[0.3cm]
\hline
$\rule{0pt}{0.5cm}\texttt{ln}(x)$ & $\frac{\displaystyle 1}{\displaystyle x}$ \\[0.3cm]
\hline
$\rule{0pt}{0.5cm}\texttt{sin}(x)$ & $\texttt{cos}(x)$  \\[0.3cm]
\hline
$\rule{0pt}{0.5cm}\texttt{cos}(x)$ & $- \texttt{sin}(x)$  \\[0.3cm]
\hline
\end{tabular} \hspace*{1.3cm}
\begin{tabular}[t]{|c|c|}
\hline
$\rule[-0.3cm]{0pt}{0.8cm} f(x)$    & $\frac{\displaystyle d\;}{\displaystyle dx} f$ \\
\hline
\hline
$\rule{0pt}{0.5cm}\texttt{tan}(x)$ & $\frac{\displaystyle1}{\rule{0cm}{11pt}\displaystyle\texttt{cos}^2(x)}$  \\[0.6cm]
\hline
$\rule{0pt}{0.5cm}\texttt{arctan}(x)$ & $\frac{\displaystyle1}{\rule{0cm}{11pt}\displaystyle1 + x^2}$  \\[0.6cm]
\hline
$\rule[-0.5cm]{0pt}{1.0cm}\sqrt{x}$ & $\frac{\displaystyle1}{\rule{0cm}{11pt}\displaystyle 2 \sqrt{x}}$ \\
\hline
\end{tabular}
\end{center}

\noindent
\textbf{Hinweis}:  Berücksichtigen Sie die Kettenregel.  Ist die Funktion $h(x)$ als
\\[0.2cm]
\hspace*{1.3cm}
$h(x) = g\bigl(f(x)\bigr)$
\\[0.2cm]
definiert, so lässt sich die Ableitung von $h(x)$ nach der Formel
\\[0.2cm]
\hspace*{1.3cm}
$\diff h(x) = g'\bigl(f(x)\bigr) \cdot f'(x)$ 
\quad mit $g'(x) = \diff g(x)$ und $f'(x) = \diff f(x)$
\\[0.2cm]
berechnen.
\vspace{0.3cm}


\noindent
\textbf{Aufgabe 3}: Schreiben Sie eine Prozedur \texttt{simplify}, die einen
gegebenen arithmetischen Ausdruck unter Berücksichtigung der Regeln \\[0.1cm]
\hspace*{1.3cm} $1 \cdot x = x \cdot 1 = x,\quad 0 \cdot x = x \cdot 0 = 0,\quad 0 + x = x + 0 = x$\\[0.1cm]
vereinfacht.
\vspace{0.3cm}

\noindent
\textbf{Hinweis}:  Je rekursiver Sie Ihr Programm schreiben, desto einfacher wird es!
\vspace{0.3cm}


\noindent
\textbf{Aufgabe 4$^{*}$}: Erweitern Sie das Programm so, dass auch arithmetische Ausdrücke
der Form $s\;\mathtt{**}\;t$ für beliebige arithmetische Ausdrücke $s$ und $t$
differenziert werden können.  Testen Sie die Implementierung, indem Sie \\[0.1cm]
\hspace*{1.3cm} $\displaystyle \frac{\displaystyle d\;}{dx} \bigl(x^x\bigr)$\\[0.1cm]
berechnen.

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
