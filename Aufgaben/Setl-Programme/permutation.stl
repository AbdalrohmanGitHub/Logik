program main;

    print(permutation(3));

    procedure permutation(n);
        if n = 1 then 
            return { [ 1 ] };
        end if;
        M := permutation(n - 1);
        return { insert(l, n, k) : l in M, k in [ 1 .. n ] };
    end permutation;

    procedure insert(l, n, k);
        if k = n then
            return l + [ n ];
        end if;
        return l(1 .. k-1) + [n] + l(k .. n-1);        
    end insert;
end main;